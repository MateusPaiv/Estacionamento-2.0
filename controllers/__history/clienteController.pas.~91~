unit clienteController;

interface
uses Vcl.Dialogs,connection,ClienteModel,Contnrs,Generics.Collections;
type
  TClienteController = class
    private
    public
     function insertClientes(nome,sobrenome,Cpf: string):Boolean;
  end;
  var clientController:TClienteController;
implementation
{ TFuncionarioController }

function TClienteController.insertClientes(nome, sobrenome, Cpf: string): Boolean;
var ListaCliente: TObjectList<TCliente>;
begin
   if (nome='') then begin
      MessageDlg('Nome não pode estar vazio',mtinformation,[mbOK],0);
      Result := false;
      exit;
   end;
   if (sobrenome='') then begin
      MessageDlg('Sobrenome não pode estar vazio',mtinformation,[mbOK],0);
      Result := false;
      exit;
   end;
   if (Cpf='') then begin
      MessageDlg('CpfCnpj não pode estar vazio',mtinformation,[mbOK],0);
      Result := false;
      exit;
   end;
      ListaCliente := TObjectList<TCliente>.Create;
      ListaCliente.add(TCliente.Create(nome,sobrenome,cpf));
      dm.cadastrarClientes(ListaCliente);
end;

end.
